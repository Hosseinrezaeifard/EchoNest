### Echo Nest Music Upload API Testing - Episode 2
### Part 1: File Upload Foundation

### 1. User Authentication (Required for all music endpoints)
POST http://localhost:3000/api/v1/auth/login
Content-Type: application/json

{
  "email": "john.doe@example.com",
  "password": "StrongPass123!"
}

### 2. Upload MP3 with Complete Metadata
POST http://localhost:3000/api/v1/music/upload
Authorization: Bearer YOUR_TOKEN_HERE
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="music"; filename="bohemian-rhapsody.mp3"
Content-Type: audio/mpeg

< ./youtube/musics/Richard Noe   Teardrops.mp3
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="title"

Bohemian Rhapsody
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="artist"

Queen
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="album"

A Night at the Opera
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="genre"

Rock
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="year"

1975
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 3. Upload MP3 with Minimal Metadata (Auto-extract from filename)
POST http://localhost:3000/api/v1/music/upload
Authorization: Bearer YOUR_TOKEN_HERE
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="music"; filename="test-song.mp3"
Content-Type: audio/mpeg

< ./youtube/musics/test.mp3
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 4. Upload MP3 with Partial Metadata
POST http://localhost:3000/api/v1/music/upload
Authorization: Bearer YOUR_TOKEN_HERE
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="music"; filename="another-song.mp3"
Content-Type: audio/mpeg

< ./youtube/musics/Richard Noe   Teardrops.mp3
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="title"

My Awesome Track
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="artist"

Test Artist
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 5. Test Invalid File Type (Should Fail)
POST http://localhost:3000/api/v1/music/upload
Authorization: Bearer YOUR_TOKEN_HERE
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="music"; filename="test.txt"
Content-Type: text/plain

This is not an MP3 file
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 6. Test Upload Without Authentication (Should Fail)
POST http://localhost:3000/api/v1/music/upload
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="music"; filename="test-song.mp3"
Content-Type: audio/mpeg

< ./youtube/musics/test.mp3
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 7. Upload Cover Art for Music Track
POST http://localhost:3000/api/v1/music/MUSIC_ID_HERE/cover
Authorization: Bearer YOUR_TOKEN_HERE
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="cover"; filename="album-cover.jpg"
Content-Type: image/jpeg

< ./test-files/album-cover.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 8. Get User's Music Library (Paginated)
GET http://localhost:3000/api/v1/music
Authorization: Bearer YOUR_TOKEN_HERE

### 9. Get User's Music Library with Pagination
GET http://localhost:3000/api/v1/music?page=1&limit=5
Authorization: Bearer YOUR_TOKEN_HERE

### 10. Get Specific Music File Details
GET http://localhost:3000/api/v1/music/MUSIC_ID_HERE
Authorization: Bearer YOUR_TOKEN_HERE

### 11. Delete Music File
DELETE http://localhost:3000/api/v1/music/MUSIC_ID_HERE
Authorization: Bearer YOUR_TOKEN_HERE

### 12. Test Access to Another User's Music (Should Fail)
GET http://localhost:3000/api/v1/music/OTHER_USER_MUSIC_ID
Authorization: Bearer YOUR_TOKEN_HERE

### 13. Upload Multiple Songs for Testing
POST http://localhost:3000/api/v1/music/upload
Authorization: Bearer YOUR_TOKEN_HERE
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="music"; filename="song1.mp3"
Content-Type: audio/mpeg

< ./youtube/musics/test.mp3
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="title"

First Song
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 14. Upload Second Song
POST http://localhost:3000/api/v1/music/upload
Authorization: Bearer YOUR_TOKEN_HERE
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="music"; filename="song2.mp3"
Content-Type: audio/mpeg

< ./youtube/musics/Richard Noe   Teardrops.mp3
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="title"

Second Song
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 15. Test Large File Upload (Should Fail if > 10MB)
POST http://localhost:3000/api/v1/music/upload
Authorization: Bearer YOUR_TOKEN_HERE
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="music"; filename="large-file.mp3"
Content-Type: audio/mpeg

< ./test-files/large-file.mp3
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 16. Test Invalid Cover Art File Type
POST http://localhost:3000/api/v1/music/MUSIC_ID_HERE/cover
Authorization: Bearer YOUR_TOKEN_HERE
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="cover"; filename="document.pdf"
Content-Type: application/pdf

< ./test-files/document.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 17. Test Upload with All Metadata Fields
POST http://localhost:3000/api/v1/music/upload
Authorization: Bearer YOUR_TOKEN_HERE
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="music"; filename="complete-track.mp3"
Content-Type: audio/mpeg

< ./youtube/musics/Richard Noe   Teardrops.mp3
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="title"

Complete Test Track
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="artist"

Test Artist
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="album"

Test Album
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="genre"

Electronic
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="year"

2024
------WebKitFormBoundary7MA4YWxkTrZu0gW--